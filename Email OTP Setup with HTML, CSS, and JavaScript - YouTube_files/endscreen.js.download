(function(g){var window=this;'use strict';var LVx=function(u){u.publish("autonavvisibility")},NDd=function(u,l){u.Nj("onAutonavCoundownStarted",l)},RU2=function(u){var l,e,p;
return u==null?void 0:(l=u.playerOverlays)==null?void 0:(e=l.playerOverlayRenderer)==null?void 0:(p=e.autoplay)==null?void 0:p.playerOverlayAutoplayRenderer},fH=function(u){var l=u.S(),e=l.X;
g.h.call(this,{T:"a",V:"ytp-autonav-suggestion-card",D:{href:"{{url}}",target:e?l.Y:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},N:[{T:"div",W7:["ytp-autonav-endscreen-upnext-thumbnail","ytp-autonav-thumbnail-small"],D:{style:"{{background}}"},N:[{T:"div",D:{"aria-label":"{{timestamp}}"},W7:["ytp-autonav-timestamp"],jM:"{{duration}}"},{T:"div",W7:["ytp-autonav-live-stamp"],jM:"Live"},{T:"div",
W7:["ytp-autonav-upcoming-stamp"],jM:"Upcoming"},{T:"div",V:"ytp-autonav-list-overlay",N:[{T:"div",V:"ytp-autonav-mix-text",jM:"Mix"},{T:"div",V:"ytp-autonav-mix-icon"}]}]},{T:"div",W7:["ytp-autonav-endscreen-upnext-title","ytp-autonav-title-card"],jM:"{{title}}"},{T:"div",W7:["ytp-autonav-endscreen-upnext-author","ytp-autonav-author-card"],jM:"{{author}}"},{T:"div",W7:["ytp-autonav-endscreen-upnext-author","ytp-autonav-view-and-date-card"],jM:"{{views_and_publish_time}}"}]});this.U=u;this.suggestion=
null;this.Z=e;this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress)},Df=function(u,l){l=l===void 0?!1:l;
g.h.call(this,{T:"div",V:"ytp-autonav-endscreen-countdown-overlay"});var e=this;this.B=l;this.cancelCommand=this.K=void 0;this.J=0;this.container=new g.h({T:"div",V:"ytp-autonav-endscreen-countdown-container"});g.K(this,this.container);this.container.Mj(this.element);l=u.S();var p=l.X;this.U=u;this.suggestion=null;this.onVideoDataChange("newdata",this.U.getVideoData());this.L(u,"videodatachange",this.onVideoDataChange);this.Z=new g.h({T:"div",V:"ytp-autonav-endscreen-upnext-container",D:{"aria-label":"{{aria_label}}",
"data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},N:[{T:"div",V:"ytp-autonav-endscreen-upnext-header"},{T:"div",V:"ytp-autonav-endscreen-upnext-alternative-header",jM:"{{autoplayAlternativeHeader}}"},{T:"a",V:"ytp-autonav-endscreen-link-container",D:{href:"{{url}}",target:p?l.Y:""},N:[{T:"div",V:"ytp-autonav-endscreen-upnext-thumbnail",D:{style:"{{background}}"},N:[{T:"div",D:{"aria-label":"{{timestamp}}"},W7:["ytp-autonav-timestamp"],
jM:"{{duration}}"},{T:"div",W7:["ytp-autonav-live-stamp"],jM:"Live"},{T:"div",W7:["ytp-autonav-upcoming-stamp"],jM:"Upcoming"}]},{T:"div",V:"ytp-autonav-endscreen-video-info",N:[{T:"div",V:"ytp-autonav-endscreen-premium-badge"},{T:"div",V:"ytp-autonav-endscreen-upnext-title",jM:"{{title}}"},{T:"div",V:"ytp-autonav-endscreen-upnext-author",jM:"{{author}}"},{T:"div",V:"ytp-autonav-view-and-date",jM:"{{views_and_publish_time}}"},{T:"div",V:"ytp-autonav-author-and-view",jM:"{{author_and_views}}"}]}]}]});
g.K(this,this.Z);this.Z.Mj(this.container.element);p||this.L(this.Z.X9("ytp-autonav-endscreen-link-container"),"click",this.KU);this.U.createClientVe(this.container.element,this,115127);this.U.createClientVe(this.Z.X9("ytp-autonav-endscreen-link-container"),this,115128);this.overlay=new g.h({T:"div",V:"ytp-autonav-overlay"});g.K(this,this.overlay);this.overlay.Mj(this.container.element);this.j=new g.h({T:"div",V:"ytp-autonav-endscreen-button-container"});g.K(this,this.j);this.j.Mj(this.container.element);
this.cancelButton=new g.h({T:"button",W7:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-cancel-button",l.W("web_modern_buttons")?"ytp-autonav-endscreen-upnext-button-rounded":""],D:{"aria-label":"Cancel auto-play"},jM:"Cancel"});g.K(this,this.cancelButton);this.cancelButton.Mj(this.j.element);this.cancelButton.listen("click",this.wu,this);this.U.createClientVe(this.cancelButton.element,this,115129);this.playButton=new g.h({T:"a",W7:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-play-button",
l.W("web_modern_buttons")?"ytp-autonav-endscreen-upnext-button-rounded":""],D:{href:"{{url}}",role:"button","aria-label":"Play next video"},jM:"Play now"});g.K(this,this.playButton);this.playButton.Mj(this.j.element);this.playButton.listen("click",this.KU,this);this.U.createServerVe(this.playButton.element,this.playButton,!0);(l=this.U.getVideoData())&&KV3(this,l);this.X=new g.ty(function(){Uig(e)},500);
g.K(this,this.X);this.Rd();this.L(u,"autonavvisibility",this.Rd);this.U.W("web_autonav_color_transition")&&(this.L(u,"autonavchange",this.Zt),this.L(u,"onAutonavCoundownStarted",this.Xeo))},GF=function(u){var l=u.U.bd(!0,u.U.isFullscreen());
g.Xu(u.container.element,"ytp-autonav-endscreen-small-mode",u.Jf(l));g.Xu(u.container.element,"ytp-autonav-endscreen-is-premium",!!u.suggestion&&!!u.suggestion.VQ7);g.Xu(u.U.getRootNode(),"ytp-autonav-endscreen-cancelled-state",!u.U.n9());g.Xu(u.U.getRootNode(),"countdown-running",u.Lx());g.Xu(u.container.element,"ytp-player-content",u.U.n9());g.b6(u.overlay.element,{width:l.width+"px"});if(!u.Lx()){u.U.n9()?YxH(u,Math.round(hUx(u)/1E3)):YxH(u);l=!!u.suggestion&&!!u.suggestion.aM;var e=u.U.n9()||
!l;g.Xu(u.container.element,"ytp-autonav-endscreen-upnext-alternative-header-only",!e&&l);g.Xu(u.container.element,"ytp-autonav-endscreen-upnext-no-alternative-header",e&&!l);u.j.ut(u.U.n9());g.Xu(u.element,"ytp-enable-w2w-color-transitions",b5y(u))}},Uig=function(u){var l=hUx(u),e=Math,p=e.min;
var x=u.J?Date.now()-u.J:0;e=p.call(e,x,l);YxH(u,Math.ceil((l-e)/1E3));l-e<=500&&u.Lx()?u.select(!0):u.Lx()&&u.X.start()},hUx=function(u){if(u.U.isFullscreen()){var l;
u=(l=u.U.getVideoData())==null?void 0:l.md;return u===-1||u===void 0?8E3:u}return u.U.A1()>=0?u.U.A1():g.fe(u.U.S().experiments,"autoplay_time")||1E4},KV3=function(u,l){l=l.getWatchNextResponse();
var e,p;l=(e=RU2(l))==null?void 0:(p=e.nextButton)==null?void 0:p.buttonRenderer;u.K=l==null?void 0:l.navigationEndpoint;e=l==null?void 0:l.trackingParams;u.playButton&&e&&u.U.setTrackingParams(u.playButton.element,e)},b5y=function(u){var l;
return!((l=u.U.getVideoData())==null||!l.watchToWatchTransitionRenderer)},YxH=function(u,l){l=l===void 0?-1:l;
u=u.Z.X9("ytp-autonav-endscreen-upnext-header");g.SH(u);if(l>=0){l=String(l);var e="Up next in $SECONDS".match(RegExp("\\$SECONDS","gi"))[0],p="Up next in $SECONDS".indexOf(e);if(p>=0){u.appendChild(g.r_("Up next in $SECONDS".slice(0,p)));var x=g.qm("span");g.et(x,"ytp-autonav-endscreen-upnext-header-countdown-number");g.or(x,l);u.appendChild(x);u.appendChild(g.r_("Up next in $SECONDS".slice(p+e.length)));return}}g.or(u,"Up next")},XX=function(u,l){g.h.call(this,{T:"div",
W7:["html5-endscreen","ytp-player-content",l||"base-endscreen"]});this.created=!1;this.player=u},mr=function(u){g.h.call(this,{T:"div",
W7:["ytp-upnext","ytp-player-content"],D:{"aria-label":"{{aria_label}}"},N:[{T:"div",V:"ytp-cued-thumbnail-overlay-image",D:{style:"{{background}}"}},{T:"span",V:"ytp-upnext-top",N:[{T:"span",V:"ytp-upnext-header",jM:"Up Next"},{T:"span",V:"ytp-upnext-title",jM:"{{title}}"},{T:"span",V:"ytp-upnext-author",jM:"{{author}}"}]},{T:"a",V:"ytp-upnext-autoplay-icon",D:{role:"button",href:"{{url}}","aria-label":"Play next video"},N:[{T:"svg",D:{height:"100%",version:"1.1",viewBox:"0 0 72 72",width:"100%"},
N:[{T:"circle",V:"ytp-svg-autoplay-circle",D:{cx:"36",cy:"36",fill:"#fff","fill-opacity":"0.3",r:"31.5"}},{T:"circle",V:"ytp-svg-autoplay-ring",D:{cx:"-36",cy:"36","fill-opacity":"0",r:"33.5",stroke:"#FFFFFF","stroke-dasharray":"211","stroke-dashoffset":"-211","stroke-width":"4",transform:"rotate(-90)"}},{T:"path",V:"ytp-svg-fill",D:{d:"M 24,48 41,36 24,24 V 48 z M 44,24 v 24 h 4 V 24 h -4 z"}}]}]},{T:"span",V:"ytp-upnext-bottom",N:[{T:"span",V:"ytp-upnext-cancel"},{T:"span",V:"ytp-upnext-paused",
jM:"Auto-play is paused"}]}]});this.api=u;this.cancelButton=null;this.K=this.X9("ytp-svg-autoplay-ring");this.J=this.notification=this.Z=this.suggestion=null;this.X=new g.ty(this.cJ,5E3,this);this.j=0;var l=this.X9("ytp-upnext-cancel");this.cancelButton=new g.h({T:"button",W7:["ytp-upnext-cancel-button","ytp-button"],D:{tabindex:"0","aria-label":"Cancel auto-play"},jM:"Cancel"});g.K(this,this.cancelButton);this.cancelButton.listen("click",this.al,this);this.cancelButton.Mj(l);this.cancelButton&&this.api.createClientVe(this.cancelButton.element,
this,115129);g.K(this,this.X);this.api.createClientVe(this.element,this,18788);l=this.X9("ytp-upnext-autoplay-icon");this.L(l,"click",this.FO);this.api.createClientVe(l,this,115130);this.UY();this.L(u,"autonavvisibility",this.UY);this.L(u,"mdxnowautoplaying",this.ZaD);this.L(u,"mdxautoplaycanceled",this.khS);g.Xu(this.element,"ytp-upnext-mobile",this.api.S().j)},aEg=function(u,l){if(l)return l;
if(u.api.isFullscreen()){var e;u=(e=u.api.getVideoData())==null?void 0:e.md;return u===-1||u===void 0?8E3:u}return u.api.A1()>=0?u.api.A1():g.fe(u.api.S().experiments,"autoplay_time")||1E4},g43=function(u,l){l=aEg(u,l);
var e=Math,p=e.min;var x=(0,g.so)()-u.j;e=p.call(e,x,l);l=l===0?1:Math.min(e/l,1);u.K.setAttribute("stroke-dashoffset",""+-211*(l+1));l>=1&&u.Lx()&&u.api.getPresentingPlayerType()!==3?u.select(!0):u.Lx()&&u.Z.start()},$d=function(u){XX.call(this,u,"autonav-endscreen");
this.overlay=this.videoData=null;this.table=new g.h({T:"div",V:"ytp-suggestion-panel",N:[{T:"div",W7:["ytp-autonav-endscreen-upnext-header","ytp-autonav-endscreen-more-videos"],jM:"More videos"}]});this.C=new g.h({T:"div",V:"ytp-suggestions-container"});this.videos=[];this.J=null;this.K=this.B=!1;this.j=new Df(this.player);g.K(this,this.j);this.j.Mj(this.element);u.getVideoData().Nc?this.Z=this.j:(this.Z=new mr(u),g.e$(this.player,this.Z.element,4),g.K(this,this.Z));this.overlay=new g.h({T:"div",
V:"ytp-autonav-overlay-cancelled-state"});g.K(this,this.overlay);this.overlay.Mj(this.element);this.X=new g.wt(this);g.K(this,this.X);g.K(this,this.table);this.table.Mj(this.element);this.table.show();g.K(this,this.C);this.C.Mj(this.table.element);this.hide()},Ms=function(u){var l=u.n9();
l!==u.K&&(u.K=l,LVx(u.player),u.K?(u.j!==u.Z&&u.j.hide(),u.table.hide()):(u.j!==u.Z&&u.j.show(),u.table.show()))},IEb=function(u){XX.call(this,u,"videowall-endscreen");
var l=this;this.U=u;this.stills=[];this.J=this.videoData=null;this.X=this.B=!1;this.C=null;g.xX(this.element,"modern-videowall-endscreen");this.j=new g.wt(this);g.K(this,this.j);this.K=new g.ty(function(){g.xX(l.element,"ytp-show-tiles")},0);
g.K(this,this.K);this.table=new g.pL({T:"div",V:"ytp-modern-endscreen-content"});g.K(this,this.table);this.table.Mj(this.element);u.getVideoData().Nc?this.Z=new Df(u,!0):this.Z=new mr(u);g.K(this,this.Z);g.e$(this.player,this.Z.element,4);u.createClientVe(this.element,this,158789);this.hide()},EP=function(u){return g.pO(u.player)&&u.Gm()&&!u.J},qs=function(u){var l=u.n9();
l!==u.B&&(u.B=l,LVx(u.player))},t_x=function(u){XX.call(this,u,"subscribecard-endscreen");
this.Z=new g.h({T:"div",V:"ytp-subscribe-card",N:[{T:"img",V:"ytp-author-image",D:{src:"{{profilePicture}}"}},{T:"div",V:"ytp-subscribe-card-right",N:[{T:"div",V:"ytp-author-name",jM:"{{author}}"},{T:"div",V:"html5-subscribe-button-container"}]}]});g.K(this,this.Z);this.Z.Mj(this.element);var l=u.getVideoData();this.subscribeButton=new g.lb("Subscribe",null,"Unsubscribe",null,!0,!1,l.lP,l.subscribed,"trailer-endscreen",null,u,!1);g.K(this,this.subscribeButton);this.subscribeButton.Mj(this.Z.X9("html5-subscribe-button-container"));
this.L(u,"videodatachange",this.dD);this.dD();this.hide()},rq=function(u){var l=u.S(),e=g.vH||g.eB?{style:"will-change: opacity"}:void 0,p=l.X,x=["ytp-videowall-still"];
l.j&&x.push("ytp-videowall-show-text");g.h.call(this,{T:"a",W7:x,D:{href:"{{url}}",target:p?l.Y:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}"},N:[{T:"div",V:"ytp-videowall-still-image",D:{style:"{{background}}"}},{T:"span",V:"ytp-videowall-still-info",D:{"aria-hidden":"true"},N:[{T:"span",V:"ytp-videowall-still-info-bg",N:[{T:"span",V:"ytp-videowall-still-info-content",D:e,N:[{T:"span",V:"ytp-videowall-still-info-title",jM:"{{title}}"},
{T:"span",V:"ytp-videowall-still-info-author",jM:"{{author_and_views}}"},{T:"span",V:"ytp-videowall-still-info-live",jM:"Live"},{T:"span",V:"ytp-videowall-still-info-duration",jM:"{{duration}}"}]}]}]},{T:"span",W7:["ytp-videowall-still-listlabel-regular","ytp-videowall-still-listlabel"],D:{"aria-hidden":"true"},N:[{T:"span",V:"ytp-videowall-still-listlabel-icon"},"Playlist",{T:"span",V:"ytp-videowall-still-listlabel-length",N:[" (",{T:"span",jM:"{{playlist_length}}"},")"]}]},{T:"span",W7:["ytp-videowall-still-listlabel-mix",
"ytp-videowall-still-listlabel"],D:{"aria-hidden":"true"},N:[{T:"span",V:"ytp-videowall-still-listlabel-mix-icon"},"Mix",{T:"span",V:"ytp-videowall-still-listlabel-length",jM:" (50+)"}]}]});this.suggestion=null;this.j=p;this.api=u;this.Z=new g.wt(this);g.K(this,this.Z);this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress);this.Z.L(u,"videodatachange",this.onVideoDataChange);u.createServerVe(this.element,this);this.onVideoDataChange()},dq=function(u){XX.call(this,u,"videowall-endscreen");
var l=this;this.U=u;this.J=0;this.stills=[];this.X=this.videoData=null;this.K=this.C=!1;this.Y=null;this.j=new g.wt(this);g.K(this,this.j);this.B=new g.ty(function(){g.xX(l.element,"ytp-show-tiles")},0);
g.K(this,this.B);var e=new g.h({T:"button",W7:["ytp-button","ytp-endscreen-previous"],D:{"aria-label":"Previous"},N:[g.qR()]});g.K(this,e);e.Mj(this.element);e.listen("click",this.XO,this);this.table=new g.pL({T:"div",V:"ytp-endscreen-content"});g.K(this,this.table);this.table.Mj(this.element);e=new g.h({T:"button",W7:["ytp-button","ytp-endscreen-next"],D:{"aria-label":"Next"},N:[g.rr()]});g.K(this,e);e.Mj(this.element);e.listen("click",this.Jg,this);u.getVideoData().Nc?this.Z=new Df(u,!0):this.Z=
new mr(u);g.K(this,this.Z);g.e$(this.player,this.Z.element,4);u.createClientVe(this.element,this,158789);this.hide()},Sx=function(u){return g.pO(u.player)&&u.Gm()&&!u.X},CH=function(u){var l=u.n9();
l!==u.C&&(u.C=l,LVx(u.player))},TDv=function(u,l){g.h.call(this,{T:"button",
W7:["ytp-watch-on-youtube-button","ytp-button"],jM:"{{content}}"});this.U=u;this.buttonType=this.buttonType=l;this.UV();this.buttonType===2&&g.xX(this.element,"ytp-continue-watching-button");this.listen("click",this.onClick);this.listen("videodatachange",this.UV);this.ut(!0)},sP=function(u){XX.call(this,u,"watch-again-on-youtube-endscreen");
this.watchButton=new TDv(u,1);g.K(this,this.watchButton);this.watchButton.Mj(this.element);g.Hyb(u)&&(this.Z=new g.Tz(u),g.K(this,this.Z),this.j=new g.h({T:"div",W7:["ytp-watch-again-on-youtube-endscreen-more-videos-container"],D:{tabIndex:"-1"},N:[this.Z]}),g.K(this,this.j),this.Z.Mj(this.j.element),this.j.Mj(this.element));u.createClientVe(this.element,this,156914);this.hide()},uCd=function(u){g.Wb.call(this,u);
var l=this;this.endScreen=null;this.Z=this.j=this.J=!1;this.listeners=new g.wt(this);g.K(this,this.listeners);var e=u.S();u.isEmbedsShortsMode()?this.endScreen=new sP(u):n4y(u)?(this.J=!0,Pwh(this),this.Z?this.endScreen=new $d(u):e.W("delhi_modern_endscreen")?this.endScreen=new IEb(u):this.endScreen=new dq(u)):e.Np?this.endScreen=new t_x(u):this.endScreen=new XX(u);g.K(this,this.endScreen);g.e$(u,this.endScreen.element,4);AYh(this);this.listeners.L(u,"videodatachange",this.onVideoDataChange,this);
this.listeners.L(u,g.Ab("endscreen"),function(p){l.onCueRangeEnter(p)});
this.listeners.L(u,g.uu("endscreen"),function(p){l.onCueRangeExit(p)})},Pwh=function(u){var l=u.player.getVideoData();
if(!l||u.Z===l.U5&&u.j===l.Nc)return!1;u.Z=l.U5;u.j=l.Nc;return!0},n4y=function(u){u=u.S();
return u.Ca&&!u.Np&&!u.disableOrganicUi},AYh=function(u){u.player.ej("endscreen");
var l=u.player.getVideoData();l=new g.ne(Math.max((l.lengthSeconds-10)*1E3,0),0x8000000000000,{id:"preload",namespace:"endscreen"});var e=new g.ne(0x8000000000000,0x8000000000000,{id:"load",priority:8,namespace:"endscreen"});u.player.pV([l,e])};
g.tq.prototype.A1=g.fm(6,function(){return this.app.A1()});
g.r1.prototype.A1=g.fm(5,function(){return this.getVideoData().Sx});
g.bs.prototype.Lw=g.fm(4,function(u){this.fI().Lw(u)});
g.tO.prototype.Lw=g.fm(3,function(u){this.PR!==u&&(this.PR=u,this.kQ())});
g.V(fH,g.h);fH.prototype.select=function(){this.U.XR(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.er||void 0)&&this.U.logClick(this.element)};
fH.prototype.onClick=function(u){g.wK(u,this.U,this.Z,this.suggestion.sessionData||void 0)&&this.select()};
fH.prototype.onKeyPress=function(u){switch(u.keyCode){case 13:case 32:u.defaultPrevented||(this.select(),u.preventDefault())}};g.V(Df,g.h);g.C=Df.prototype;g.C.y$=function(u){this.suggestion!==u&&(this.suggestion=u,g.D3(this.Z,u),this.playButton.updateValue("url",this.suggestion.S$()),GF(this))};
g.C.Lx=function(){return this.J>0};
g.C.Sh=function(){this.Lx()||(this.J=Date.now(),Uig(this),NDd(this.U,hUx(this)),g.Xu(this.U.getRootNode(),"countdown-running",this.Lx()))};
g.C.eG=function(){this.gw();Uig(this);var u=this.Z.X9("ytp-autonav-endscreen-upnext-header");u&&g.or(u,"Up next")};
g.C.gw=function(){this.Lx()&&(this.X.stop(),this.J=0)};
g.C.select=function(u){this.U.nextVideo(!1,u===void 0?!1:u);this.gw()};
g.C.KU=function(u){g.wK(u,this.U)&&(u.currentTarget===this.playButton.element?this.U.logClick(this.playButton.element):u.currentTarget===this.Z.X9("ytp-autonav-endscreen-link-container")&&(u=this.Z.X9("ytp-autonav-endscreen-link-container"),this.U.logVisibility(u,!0),this.U.logClick(u)),this.K?(this.U.Nj("innertubeCommand",this.K),this.gw()):this.select())};
g.C.wu=function(){this.U.logClick(this.cancelButton.element);g.nX(this.U,!0);this.cancelCommand&&this.U.Nj("innertubeCommand",this.cancelCommand)};
g.C.onVideoDataChange=function(u,l){KV3(this,l);u=l.getWatchNextResponse();var e,p;u=(e=RU2(u))==null?void 0:(p=e.cancelButton)==null?void 0:p.buttonRenderer;this.cancelCommand=u==null?void 0:u.command};
g.C.Xeo=function(u){if(b5y(this)){var l=this.U.getVideoData().watchToWatchTransitionRenderer,e=l==null?void 0:l.fromColorPaletteDark;l=l==null?void 0:l.toColorPaletteDark;if(e&&l){var p=this.element;p.style.setProperty("--w2w-start-background-color",g.ZZ(e.surgeColor));p.style.setProperty("--w2w-start-primary-text-color",g.ZZ(e.primaryTitleColor));p.style.setProperty("--w2w-start-secondary-text-color",g.ZZ(e.secondaryTitleColor));p.style.setProperty("--w2w-end-background-color",g.ZZ(l.surgeColor));
p.style.setProperty("--w2w-end-primary-text-color",g.ZZ(l.primaryTitleColor));p.style.setProperty("--w2w-end-secondary-text-color",g.ZZ(l.secondaryTitleColor));p.style.setProperty("--w2w-animation-duration",u+"ms")}g.Xu(this.element,"ytp-w2w-animate",!0)}};
g.C.Zt=function(u){this.U.W("web_autonav_color_transition")&&u!==2&&g.Xu(this.element,"ytp-w2w-animate",!1)};
g.C.Rd=function(){var u=this.U.n9();this.B&&this.TD!==u&&this.ut(u);GF(this);this.U.logVisibility(this.container.element,u);this.U.logVisibility(this.cancelButton.element,u);this.U.logVisibility(this.Z.X9("ytp-autonav-endscreen-link-container"),u);this.U.logVisibility(this.playButton.element,u)};
g.C.Jf=function(u){return u.width<400||u.height<459};g.V(XX,g.h);g.C=XX.prototype;g.C.create=function(){this.created=!0};
g.C.destroy=function(){this.created=!1};
g.C.Gm=function(){return!1};
g.C.n9=function(){return!1};
g.C.f$=function(){return!1};g.V(mr,g.h);g.C=mr.prototype;g.C.cJ=function(){this.notification&&(this.X.stop(),this.b6(this.J),this.J=null,this.notification.close(),this.notification=null)};
g.C.y$=function(u){this.suggestion=u;g.D3(this,u,"hqdefault.jpg")};
g.C.UY=function(){this.ut(this.api.n9());this.api.logVisibility(this.element,this.api.n9());this.api.logVisibility(this.X9("ytp-upnext-autoplay-icon"),this.api.n9());this.cancelButton&&this.api.logVisibility(this.cancelButton.element,this.api.n9())};
g.C.iaD=function(){window.focus();this.cJ()};
g.C.Sh=function(u){var l=this;this.Lx()||(g.uq("a11y-announce","Up Next "+this.suggestion.title),this.j=(0,g.so)(),this.Z=new g.ty(function(){g43(l,u)},25),g43(this,u),NDd(this.api,aEg(this,u)));
g.DM(this.element,"ytp-upnext-autoplay-paused")};
g.C.hide=function(){g.h.prototype.hide.call(this)};
g.C.Lx=function(){return!!this.Z};
g.C.eG=function(){this.gw();this.j=(0,g.so)();g43(this);g.xX(this.element,"ytp-upnext-autoplay-paused")};
g.C.gw=function(){this.Lx()&&(this.Z.dispose(),this.Z=null)};
g.C.select=function(u){u=u===void 0?!1:u;if(this.api.S().W("autonav_notifications")&&u&&window.Notification&&typeof document.hasFocus==="function"){var l=Notification.permission;l==="default"?Notification.requestPermission():l!=="granted"||document.hasFocus()||(this.cJ(),this.notification=new Notification("Up Next",{body:this.suggestion.title,icon:this.suggestion.EA()}),this.J=this.L(this.notification,"click",this.iaD),this.X.start())}this.gw();this.api.nextVideo(!1,u)};
g.C.FO=function(u){!g.Vn(this.cancelButton.element,u.target)&&g.wK(u,this.api)&&(this.api.n9()&&this.api.logClick(this.X9("ytp-upnext-autoplay-icon")),this.select())};
g.C.al=function(){this.api.n9()&&this.cancelButton&&this.api.logClick(this.cancelButton.element);g.nX(this.api,!0)};
g.C.ZaD=function(u){this.api.getPresentingPlayerType();this.show();this.Sh(u)};
g.C.khS=function(){this.api.getPresentingPlayerType();this.gw();this.hide()};
g.C.ip=function(){this.gw();this.cJ();g.h.prototype.ip.call(this)};g.V($d,XX);g.C=$d.prototype;g.C.create=function(){XX.prototype.create.call(this);this.X.L(this.player,"appresize",this.V$);this.X.L(this.player,"onVideoAreaChange",this.V$);this.X.L(this.player,"videodatachange",this.onVideoDataChange);this.X.L(this.player,"autonavchange",this.MP);this.X.L(this.player,"onAutonavCancelled",this.lT);this.onVideoDataChange()};
g.C.show=function(){XX.prototype.show.call(this);(this.B||this.J&&this.J!==this.videoData.clientPlaybackNonce)&&g.nX(this.player,!1);g.pO(this.player)&&this.Gm()&&!this.J?(Ms(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.Z.select(!0):this.Z.Sh():this.videoData.autonavState===3&&this.Z.eG()):(g.nX(this.player,!0),Ms(this));this.V$()};
g.C.hide=function(){XX.prototype.hide.call(this);this.Z.eG();Ms(this)};
g.C.V$=function(){var u=this.player.bd(!0,this.player.isFullscreen());Ms(this);GF(this.j);g.Xu(this.element,"ytp-autonav-cancelled-small-mode",this.Jf(u));g.Xu(this.element,"ytp-autonav-cancelled-tiny-mode",this.U2(u));g.Xu(this.element,"ytp-autonav-cancelled-mini-mode",u.width<=400||u.height<=360);this.overlay&&g.b6(this.overlay.element,{width:u.width+"px"});if(!this.K)for(u=0;u<this.videos.length;u++)g.Xu(this.videos[u].element,"ytp-suggestion-card-with-margin",u%2===1)};
g.C.onVideoDataChange=function(){var u=this.player.getVideoData();if(this.videoData!==u&&u){this.videoData=u;if((u=this.videoData.suggestions)&&u.length||this.player.W("web_player_autonav_empty_suggestions_fix")){var l=g.JM(this.videoData);l&&(this.Z.y$(l),this.Z!==this.j&&this.j.y$(l))}if(u&&u.length)for(l=0;l<iIy.length;++l){var e=iIy[l];if(u&&u[e]){this.videos[l]=new fH(this.player);var p=this.videos[l];e=u[e];p.suggestion!==e&&(p.suggestion=e,g.D3(p,e));g.K(this,this.videos[l]);this.videos[l].Mj(this.C.element)}}this.V$()}};
g.C.MP=function(u){u===1?(this.B=!1,this.J=this.videoData.clientPlaybackNonce,this.Z.gw(),this.TD&&this.V$()):(this.B=!0,this.n9()&&(u===2?this.Z.Sh():u===3&&this.Z.eG()))};
g.C.lT=function(u){u?this.MP(1):(this.J=null,this.B=!1)};
g.C.Gm=function(){return this.videoData.autonavState!==1};
g.C.Jf=function(u){return(u.width<910||u.height<459)&&!this.U2(u)&&!(u.width<=400||u.height<=360)};
g.C.U2=function(u){return u.width<800&&!(u.width<=400||u.height<=360)};
g.C.n9=function(){return this.TD&&g.pO(this.player)&&this.Gm()&&!this.J};
var iIy=[1,3,2,4];g.V(IEb,XX);g.C=IEb.prototype;g.C.create=function(){XX.prototype.create.call(this);var u=this.player.getVideoData();u&&(this.videoData=u);this.Rp();this.j.L(this.player,"appresize",this.Rp);this.j.L(this.player,"onVideoAreaChange",this.Rp);this.j.L(this.player,"videodatachange",this.onVideoDataChange);this.j.L(this.player,"autonavchange",this.EC);this.j.L(this.player,"onAutonavCancelled",this.jc);u=this.videoData.autonavState;u!==this.C&&this.EC(u);this.j.L(this.element,"transitionend",this.iT)};
g.C.destroy=function(){g.QK(this.j);g.x4(this.stills);this.stills=[];XX.prototype.destroy.call(this);g.DM(this.element,"ytp-show-tiles");this.K.stop();this.C=this.videoData.autonavState};
g.C.Gm=function(){return this.videoData.autonavState!==1};
g.C.show=function(){var u=this.TD;XX.prototype.show.call(this);g.DM(this.element,"ytp-show-tiles");this.player.S().j?g.nT(this.K):this.K.start();(this.X||this.J&&this.J!==this.videoData.clientPlaybackNonce)&&g.nX(this.player,!1);EP(this)?(qs(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.Z.select(!0):this.Z.Sh():this.videoData.autonavState===3&&this.Z.eG()):(g.nX(this.player,!0),qs(this));u!==this.TD&&this.player.logVisibility(this.element,!0)};
g.C.hide=function(){var u=this.TD;XX.prototype.hide.call(this);this.Z.eG();qs(this);u!==this.TD&&this.player.logVisibility(this.element,!1)};
g.C.iT=function(u){u.target===this.element&&this.Rp()};
g.C.Rp=function(){var u,l,e,p;var x=((u=this.videoData)==null?0:(l=u.suggestions)==null?0:l.length)?(e=this.videoData)==null?void 0:e.suggestions:[(p=this.videoData)==null?void 0:g.JM(p)];if(x.length){l=this.U.bd(!0,this.U.isFullscreen());u=Math.floor((l.width-64+16)/(g.KR(l.width*.27,250,450)+16));l=Math.min(3,Math.floor((l.height-64)/((l.width-64-(u-1)*16)/u*.5625+70)));g.GQ(this.element,["ytp-modern-endscreen-limit-rows-1","ytp-modern-endscreen-limit-rows-2","ytp-modern-endscreen-limit-rows-3"]);
g.xX(this.element,"ytp-modern-endscreen-limit-rows-"+l);g.Xu(this.element,"ytp-modern-endscreen-single-item",u===1);g.Xu(this.element,"ytp-modern-endscreen-row-0",l===0);u=this.table.element;u.ariaLive="polite";this.Z.y$(g.JM(this.videoData));this.Z instanceof Df&&GF(this.Z);g.Xu(this.element,"ytp-endscreen-takeover",EP(this));qs(this);l=0;u.ariaBusy="true";e=x.length;for(p=0;p<e;p++){var f=p%e,D=this.stills[p];D||(D=new g.GK(this.player),this.stills[p]=D,u.appendChild(D.element));g.H0K(D,x[f]);l++}this.stills.length=
l}};
g.C.onVideoDataChange=function(){var u=this.player.getVideoData(1);this.videoData!==u&&(u!=null&&g.JM(u)?(this.videoData=u,this.Rp()):this.player.qj("missg",{vid:(u==null?void 0:u.videoId)||"",cpn:(u==null?void 0:u.clientPlaybackNonce)||""}))};
g.C.f$=function(){return this.Z.Lx()};
g.C.EC=function(u){u===1?(this.X=!1,this.J=this.videoData.clientPlaybackNonce,this.Z.gw(),this.TD&&this.Rp()):(this.X=!0,this.TD&&EP(this)&&(u===2?this.Z.Sh():u===3&&this.Z.eG()))};
g.C.jc=function(u){if(u){for(u=0;u<this.stills.length;u++)this.U.logVisibility(this.stills[u].element,!0);this.EC(1)}else this.J=null,this.X=!1;this.Rp()};
g.C.n9=function(){return this.TD&&EP(this)};g.V(t_x,XX);t_x.prototype.dD=function(){var u=this.player.getVideoData();this.Z.update({profilePicture:u.profilePicture,author:u.author});this.subscribeButton.channelId=u.lP;var l=this.subscribeButton;u.subscribed?l.Z():l.j()};g.V(rq,g.h);rq.prototype.select=function(){this.api.XR(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.er||void 0)&&this.api.logClick(this.element)};
rq.prototype.onClick=function(u){if(g.xI(this.api.S())&&this.api.W("web_player_log_click_before_generating_ve_conversion_params")){this.api.logClick(this.element);var l=this.suggestion.S$(),e={};g.uQ(this.api,e);l=g.Vz(l,e);g.JG(l,this.api,u)}else g.wK(u,this.api,this.j,this.suggestion.sessionData||void 0)&&this.select()};
rq.prototype.onKeyPress=function(u){switch(u.keyCode){case 13:case 32:u.defaultPrevented||(this.select(),u.preventDefault())}};
rq.prototype.onVideoDataChange=function(){var u=this.api.getVideoData(),l=this.api.S();this.j=u.Tw?!1:l.X};g.V(dq,XX);g.C=dq.prototype;g.C.create=function(){XX.prototype.create.call(this);var u=this.player.getVideoData();u&&(this.videoData=u);this.RS();this.j.L(this.player,"appresize",this.RS);this.j.L(this.player,"onVideoAreaChange",this.RS);this.j.L(this.player,"videodatachange",this.onVideoDataChange);this.j.L(this.player,"autonavchange",this.SO);this.j.L(this.player,"onAutonavCancelled",this.z4);u=this.videoData.autonavState;u!==this.Y&&this.SO(u);this.j.L(this.element,"transitionend",this.T4)};
g.C.destroy=function(){g.QK(this.j);g.x4(this.stills);this.stills=[];XX.prototype.destroy.call(this);g.DM(this.element,"ytp-show-tiles");this.B.stop();this.Y=this.videoData.autonavState};
g.C.Gm=function(){return this.videoData.autonavState!==1};
g.C.show=function(){var u=this.TD;XX.prototype.show.call(this);g.DM(this.element,"ytp-show-tiles");this.player.S().j?g.nT(this.B):this.B.start();(this.K||this.X&&this.X!==this.videoData.clientPlaybackNonce)&&g.nX(this.player,!1);Sx(this)?(CH(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.Z.select(!0):this.Z.Sh():this.videoData.autonavState===3&&this.Z.eG()):(g.nX(this.player,!0),CH(this));u!==this.TD&&this.player.logVisibility(this.element,!0)};
g.C.hide=function(){var u=this.TD;XX.prototype.hide.call(this);this.Z.eG();CH(this);u!==this.TD&&this.player.logVisibility(this.element,!1)};
g.C.T4=function(u){u.target===this.element&&this.RS()};
g.C.RS=function(){var u,l,e,p;var x=((u=this.videoData)==null?0:(l=u.suggestions)==null?0:l.length)?(e=this.videoData)==null?void 0:e.suggestions:[(p=this.videoData)==null?void 0:g.JM(p)];if(x.length){g.xX(this.element,"ytp-endscreen-paginate");var f=this.U.bd(!0,this.U.isFullscreen());if(u=g.R6(this.U))u=u.oJ()?48:32,f.width-=u*2;var D=f.width/f.height;p=96/54;l=u=2;var X=Math.max(f.width/96,2),m=Math.max(f.height/54,2);e=x.length;var M=e*4;for(M-=4;M>0&&(u<X||l<m);){var E=u/2,q=l/2,r=u<=X-2&&M>=
q*4,d=l<=m-2&&M>=E*4;if((E+1)/q*p/D>D/(E/(q+1)*p)&&d)M-=E*4,l+=2;else if(r)M-=q*4,u+=2;else if(d)M-=E*4,l+=2;else break}p=!1;M>=12&&e*4-M<=6&&(l>=4||u>=4)&&(p=!0);M=u*96;X=l*54;D=M/X<D?f.height/X:f.width/M;D=Math.min(D,2);M=Math.floor(Math.min(f.width,M*D));X=Math.floor(Math.min(f.height,X*D));f=this.table.element;f.ariaLive="polite";g.ia(f,M,X);g.b6(f,{marginLeft:M/-2+"px",marginTop:X/-2+"px"});this.Z.y$(g.JM(this.videoData));this.Z instanceof Df&&GF(this.Z);g.Xu(this.element,"ytp-endscreen-takeover",
Sx(this));CH(this);M+=4;X+=4;D=0;f.ariaBusy="true";for(m=0;m<u;m++)for(E=0;E<l;E++)if(q=D,d=0,p&&m>=u-2&&E>=l-2?d=1:E%2===0&&m%2===0&&(E<2&&m<2?E===0&&m===0&&(d=2):d=2),q=g.U2(q+this.J,e),d!==0){r=this.stills[D];r||(r=new rq(this.player),this.stills[D]=r,f.appendChild(r.element));var S=Math.floor(X*E/l),v=Math.floor(M*m/u),z=Math.floor(X*(E+d)/l)-S-4,H=Math.floor(M*(m+d)/u)-v-4;g.nN(r.element,v,S);g.ia(r.element,H,z);g.b6(r.element,"transitionDelay",(E+m)/20+"s");g.Xu(r.element,"ytp-videowall-still-mini",
d===1);g.Xu(r.element,"ytp-videowall-still-large",d>2);d=Math.max(H,z);g.Xu(r.element,"ytp-videowall-still-round-large",d>=256);g.Xu(r.element,"ytp-videowall-still-round-medium",d>96&&d<256);g.Xu(r.element,"ytp-videowall-still-round-small",d<=96);q=x[q];r.suggestion!==q&&(r.suggestion=q,d=r.api.S(),S=g.pK(r.element,"ytp-videowall-still-large")?"hqdefault.jpg":"mqdefault.jpg",g.D3(r,q,S),g.xI(d)&&!r.api.W("web_player_log_click_before_generating_ve_conversion_params")&&(d=q.S$(),S={},g.jn(r.api,"addEmbedsConversionTrackingParams",
[S]),d=g.Vz(d,S),r.updateValue("url",d)),(q=(q=q.sessionData)&&q.itct)&&r.api.setTrackingParams(r.element,q));D++}f.ariaBusy="false";g.Xu(this.element,"ytp-endscreen-paginate",D<e);for(x=this.stills.length-1;x>=D;x--)u=this.stills[x],g.s1(u.element),g.p5(u);this.stills.length=D}};
g.C.onVideoDataChange=function(){var u=this.player.getVideoData(1);this.videoData!==u&&(u!=null&&g.JM(u)?(this.J=0,this.videoData=u,this.RS()):this.player.qj("missg",{vid:(u==null?void 0:u.videoId)||"",cpn:(u==null?void 0:u.clientPlaybackNonce)||""}))};
g.C.Jg=function(){this.J+=this.stills.length;this.RS()};
g.C.XO=function(){this.J-=this.stills.length;this.RS()};
g.C.f$=function(){return this.Z.Lx()};
g.C.SO=function(u){u===1?(this.K=!1,this.X=this.videoData.clientPlaybackNonce,this.Z.gw(),this.TD&&this.RS()):(this.K=!0,this.TD&&Sx(this)&&(u===2?this.Z.Sh():u===3&&this.Z.eG()))};
g.C.z4=function(u){if(u){for(u=0;u<this.stills.length;u++)this.U.logVisibility(this.stills[u].element,!0);this.SO(1)}else this.X=null,this.K=!1;this.RS()};
g.C.n9=function(){return this.TD&&Sx(this)};g.V(TDv,g.h);g.C=TDv.prototype;g.C.UV=function(){switch(this.buttonType){case 1:var u="Watch again on YouTube";var l=156915;break;case 2:u="Continue watching on YouTube";l=156942;break;default:u="Continue watching on YouTube",l=156942}this.update({content:u});this.U.hasVe(this.element)&&this.U.destroyVe(this.element);this.U.createClientVe(this.element,this,l)};
g.C.onClick=function(u){this.U.W("web_player_log_click_before_generating_ve_conversion_params")&&this.U.logClick(this.element);g.JG(this.getVideoUrl(),this.U,u);this.U.W("web_player_log_click_before_generating_ve_conversion_params")||this.U.logClick(this.element)};
g.C.getVideoUrl=function(){var u=!0;switch(this.buttonType){case 1:u=!0;break;case 2:u=!1}u=this.U.getVideoUrl(u,!1,!1,!0);var l=this.U.S();if(g.xI(l)){var e={};g.xI(l)&&g.jn(this.U,"addEmbedsConversionTrackingParams",[e]);u=g.Vz(u,e)}return u};
g.C.logVisibility=function(){this.U.logVisibility(this.element,this.TD&&this.G)};
g.C.show=function(){g.h.prototype.show.call(this);this.logVisibility()};
g.C.hide=function(){g.h.prototype.hide.call(this);this.logVisibility()};
g.C.Th=function(u){g.h.prototype.Th.call(this,u);this.logVisibility()};g.V(sP,XX);sP.prototype.hasSuggestions=function(){var u;return(u=this.Z)==null?void 0:u.hasSuggestions()};
sP.prototype.show=function(){if(this.player.getPlayerState()!==3){XX.prototype.show.call(this);var u=this.j;if(u){var l=this.Z.hasSuggestions();g.Xu(this.element,"ytp-shorts-branded-ui",l);l?u.show():u.hide()}var e;(e=g.R6(this.player))==null||e.Lw(!0);this.player.logVisibility(this.element,!0);this.watchButton.Th(!0)}};
sP.prototype.hide=function(){XX.prototype.hide.call(this);var u;(u=g.R6(this.player))==null||u.Lw(!1);this.player.logVisibility(this.element,!1);this.watchButton.Th(!1)};g.V(uCd,g.Wb);g.C=uCd.prototype;g.C.wC=function(){var u=this.player.getVideoData(),l=u.mutedAutoplay&&(u.limitedPlaybackDurationInSeconds>0||u.endSeconds>0||u.mutedAutoplayDurationMode!==2);if(this.player.isEmbedsShortsMode()&&!l)return!0;var e;var p=!!((u==null?0:g.JM(u))||(u==null?0:(e=u.suggestions)==null?0:e.length));p=!n4y(this.player)||p;u=u.l7;e=this.player.AN();return p&&!u&&!e&&!l};
g.C.n9=function(){return this.endScreen.n9()};
g.C.G7=function(){return this.n9()?this.endScreen.f$():!1};
g.C.ip=function(){this.player.ej("endscreen");g.Wb.prototype.ip.call(this)};
g.C.load=function(){var u=this.player.getVideoData();var l=u.transitionEndpointAtEndOfStream;if(l&&l.videoId){var e=this.player.rd().jZ.get("heartbeat"),p=g.JM(u);!p||l.videoId!==p.videoId||u.xS?(this.player.XR(l.videoId,void 0,void 0,!0,!0,l),e&&e.s2("HEARTBEAT_ACTION_TRIGGER_AT_STREAM_END","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT"),u=!0):u=!1}else u=!1;u||(g.Wb.prototype.load.call(this),this.endScreen.show())};
g.C.unload=function(){g.Wb.prototype.unload.call(this);this.endScreen.hide();this.endScreen.destroy()};
g.C.onCueRangeEnter=function(u){this.wC()&&(this.endScreen.created||this.endScreen.create(),u.getId()==="load"&&this.load())};
g.C.onCueRangeExit=function(u){u.getId()==="load"&&this.loaded&&this.unload()};
g.C.onVideoDataChange=function(){AYh(this);this.J&&Pwh(this)&&(this.endScreen&&(this.endScreen.hide(),this.endScreen.created&&this.endScreen.destroy(),this.endScreen.dispose()),this.Z?this.endScreen=new $d(this.player):this.endScreen=new dq(this.player),g.K(this,this.endScreen),g.e$(this.player,this.endScreen.element,4))};g.on("endscreen",uCd);})(_yt_player);
